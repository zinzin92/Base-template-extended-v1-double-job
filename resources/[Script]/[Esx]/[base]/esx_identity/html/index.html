<html>
	<head>
		<script src="nui://game/ui/jquery.js" type="text/javascript"></script>
		<link href="style.css" rel="stylesheet" type="text/css" />
	</head>

	<body>
    <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
	<form id="register">
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Enregistrez vous</h2>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="form-row m-b-55">
                            <div class="name">Prenom Nom</div>
                            <div class="value">
                                <div class="row row-space">
                                    <div class="col-2">
                                        <div class="input-group-desc">
                                            <input id="firstname" type="text" class="" name="firstname" placeholder="Prénom (16 caractères maximum)" onKeyDown="if(this.value.length==16 && event.keyCode!=8) return false;"><br>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <div class="input-group-desc">
                                            <input id="lastname" type="text" class="" name="lastname" placeholder="Nom de famille (16 caractères maximum)" onKeyDown="if(this.value.length==16 && event.keyCode!=8) return false;"><br>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Date de Naissance</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="dateofbirth" type="text" name="dateofbirth" class="" placeholder="Date of Birth (MM/DD/YYYY)" dateformat="M d y" min="01/01/1900" max="12/31/2003" onfocus="(this.type='date')" onkeypress="if ( isNaN(String.fromCharCode(event.keyCode) )) return false;" onchange="checkDOB()" onKeyUp="checkDOB()" onmouseup="checkDOB()"><br>
                                </div>
                            </div>
                        </div>
                        <div class="form-row m-b-55">
                            <div class="name">Taille</div>
                            <div class="value">
                                <div class="row row-refine">
                                    <div class="col-9">
                                        <div class="input-group-desc">
                                            <input class="input--style-5" id="height" type="text" name="height">
                                            <label class="label--desc">Example: 140-200cm</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row p-t-20">
                            <label class="label label--block">De quel sexe êtes-vous?</label>
                            <div class="p-t-15">
                                <label class="radio-container m-r-55">Male
                                    <input type="checkbox" class="sex" value="m" checked>
                                    <span class="checkmark"></span>
                                </label>
                                <label class="radio-container">Female
                                    <input type="checkbox" class="sex" value="f">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <button class="btn btn--radius-2 btn--red" type="submit">Créer votre personnage</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
	</form>
    </div>
		<script src="script.js" type="text/javascript"></script>
        <script>
			$('input[type="checkbox"]').on('change', function() {
			$('input[type="checkbox"]').not(this).prop('checked', false);
			});
			
			var myDOB = document.getElementById('dateofbirth');
			
			function checkDOB() {
				var date = new Date($('#dateofbirth').val());
				day = date.getDate();
				month = date.getMonth() + 1;
				year = date.getFullYear();
				if (isNaN(month) || isNaN(day) || isNaN(year)) {
					myDOB.style.backgroundColor = '#E06666';
					myDOB.style.color = 'black';
				}
				else {
					var dateInput = [month, day, year].join('/');

					var regExp = /^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;
					var dateArray = dateInput.match(regExp);

					if (dateArray == null){
						return false;
					}

					month = dateArray[1];
					day= dateArray[3];
					year = dateArray[5];        

					if (month < 1 || month > 12){
						myDOB.style.backgroundColor = '#E06666';
						myDOB.style.color = 'black';
					}
					else if (day < 1 || day> 31) { 
						myDOB.style.backgroundColor = '#E06666';
						myDOB.style.color = 'black';
					}
					else if ((month==4 || month==6 || month==9 || month==11) && day ==31) {
						myDOB.style.backgroundColor = '#E06666';
						myDOB.style.color = 'black';
					}
					else if (month == 2) {
						var isLeapYear = (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0));
						if (day> 29 || (day ==29 && !isLeapYear)){
							myDOB.style.backgroundColor = '#E06666';
							myDOB.style.color = 'black';
						}
					}
					else {
						myDOB.style.backgroundColor = '#B6D7A8';
						myDOB.style.color = 'black';	
					}				
				}
			}
		</script>
	</body>
</html>
